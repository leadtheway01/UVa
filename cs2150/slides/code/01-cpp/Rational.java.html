<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="GNU source-highlight 3.1.5
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite">
<title>Rational.java</title>
</head>
<body bgcolor="white">
<pre><tt><i><font color="#9A1900">// File Rational.java</font></i>

<i><font color="#9A1900">/* Fall 2007 CS 216 NOTES on Handout:</font></i>
<i><font color="#9A1900"> *</font></i>
<i><font color="#9A1900"> * MCO:  See notes scattered in comments throughout this file</font></i>
<i><font color="#9A1900"> *</font></i>
<i><font color="#9A1900"> * 		For now, use the comments as a guideline for the conversion to C++</font></i>
<i><font color="#9A1900"> *		Explanation the following concepts will become clearer in the next class:</font></i>
<i><font color="#9A1900"> *			- pointers</font></i>
<i><font color="#9A1900"> *			- when to use "new" and "this"</font></i>
<i><font color="#9A1900"> *</font></i>
<i><font color="#9A1900"> *	NOTE 0: For now, remove all instances of "new" and "this"</font></i>
<i><font color="#9A1900"> *</font></i>
<i><font color="#9A1900"> *	C++ REMINDERS:</font></i>
<i><font color="#9A1900"> *</font></i>
<i><font color="#9A1900"> *		1) For Input/Output:</font></i>
<i><font color="#9A1900"> *</font></i>
<i><font color="#9A1900"> *			#include &lt;iostream&gt;</font></i>
<i><font color="#9A1900"> *			using namespace std;</font></i>
<i><font color="#9A1900"> *</font></i>
<i><font color="#9A1900"> *		2) To print to screen:  cout &lt;&lt; varname1 &lt;&lt; " " &lt;&lt; endl;</font></i>
<i><font color="#9A1900"> *			(endl means "end of line" or newline)</font></i>
<i><font color="#9A1900"> *</font></i>
<i><font color="#9A1900"> *		3) C++ signature for main (must not be in any class):</font></i>
<i><font color="#9A1900"> *			int main()</font></i>
<i><font color="#9A1900"> *</font></i>
<i><font color="#9A1900"> *		4) C++ class syntax reminders:</font></i>
<i><font color="#9A1900"> *</font></i>
<i><font color="#9A1900"> *		// Instead of modifying each member function,</font></i>
<i><font color="#9A1900"> *		// just a section for each in the class</font></i>
<i><font color="#9A1900"> *		public:</font></i>
<i><font color="#9A1900"> *		private:</font></i>
<i><font color="#9A1900"> *</font></i>
<i><font color="#9A1900"> */</font></i>

<b><font color="#0000FF">public</font></b> <b><font color="#0000FF">class</font></b> <font color="#008080">Rational</font> <font color="#FF0000">{</font>
    <b><font color="#0000FF">private</font></b> <font color="#009900">int</font> num<font color="#990000">;</font>   <i><font color="#9A1900">// the numerator</font></i>
    <b><font color="#0000FF">private</font></b> <font color="#009900">int</font> den<font color="#990000">;</font>   <i><font color="#9A1900">// the denominator</font></i>

    <i><font color="#9A1900">// create and initialize a new Rational object</font></i>
    <b><font color="#0000FF">public</font></b> <b><font color="#000000">Rational</font></b><font color="#990000">(</font><font color="#009900">int</font> numerator<font color="#990000">,</font> <font color="#009900">int</font> denominator<font color="#990000">)</font> <font color="#FF0000">{</font>
        <b><font color="#0000FF">if</font></b> <font color="#990000">(</font>denominator <font color="#990000">==</font> <font color="#993399">0</font><font color="#990000">)</font> <font color="#FF0000">{</font>
            System<font color="#990000">.</font>out<font color="#990000">.</font><b><font color="#000000">println</font></b><font color="#990000">(</font><font color="#FF0000">"Denominator is zero"</font><font color="#990000">);</font>
        <font color="#FF0000">}</font>
        <font color="#009900">int</font> g <font color="#990000">=</font> <b><font color="#000000">gcd</font></b><font color="#990000">(</font>numerator<font color="#990000">,</font> denominator<font color="#990000">);</font>
        num <font color="#990000">=</font> numerator   <font color="#990000">/</font> g<font color="#990000">;</font>
        den <font color="#990000">=</font> denominator <font color="#990000">/</font> g<font color="#990000">;</font>
    <font color="#FF0000">}</font>

    <i><font color="#9A1900">// return string representation of (this)</font></i>
    <b><font color="#0000FF">public</font></b> <font color="#009900">void</font> <b><font color="#000000">print</font></b><font color="#990000">()</font> <font color="#FF0000">{</font>
        <b><font color="#0000FF">if</font></b> <font color="#990000">(</font>den <font color="#990000">==</font> <font color="#993399">1</font><font color="#990000">)</font> <font color="#FF0000">{</font>
            <i><font color="#9A1900">// MCO: NOTE 1</font></i>
            <i><font color="#9A1900">// For conversion to C++</font></i>
            <i><font color="#9A1900">// use the following</font></i>
            <i><font color="#9A1900">// cout &lt;&lt; num &lt;&lt; "" &lt;&lt; endl;</font></i>
            <i><font color="#9A1900">// We'll talk about C++ operator overloading later for</font></i>
            <i><font color="#9A1900">// operators such as the '+' symbol soon</font></i>
            System<font color="#990000">.</font>out<font color="#990000">.</font><b><font color="#000000">println</font></b><font color="#990000">(</font>num <font color="#990000">+</font> <font color="#FF0000">""</font><font color="#990000">);</font>
        <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <font color="#FF0000">{</font>
            System<font color="#990000">.</font>out<font color="#990000">.</font><b><font color="#000000">println</font></b><font color="#990000">(</font>num <font color="#990000">+</font> <font color="#FF0000">"/"</font> <font color="#990000">+</font> den<font color="#990000">);</font>
        <font color="#FF0000">}</font>
    <font color="#FF0000">}</font>

    <i><font color="#9A1900">// return (this * b)</font></i>
    <b><font color="#0000FF">public</font></b> <font color="#008080">Rational</font> <b><font color="#000000">times</font></b><font color="#990000">(</font><font color="#008080">Rational</font> b<font color="#990000">)</font> <font color="#FF0000">{</font>
        <i><font color="#9A1900">// MCO: NOTE 2</font></i>
        <i><font color="#9A1900">// More explanation on this next class, for now</font></i>
        <i><font color="#9A1900">// remove "new" and "this" for conversion to C++</font></i>
        <i><font color="#9A1900">// Do this for all "new" and "this" for the Rational class</font></i>
        <i><font color="#9A1900">// for this exercise</font></i>
        <b><font color="#0000FF">return</font></b> <b><font color="#0000FF">new</font></b> <b><font color="#000000">Rational</font></b><font color="#990000">(</font><b><font color="#0000FF">this</font></b><font color="#990000">.</font>num <font color="#990000">*</font> b<font color="#990000">.</font>num<font color="#990000">,</font> <b><font color="#0000FF">this</font></b><font color="#990000">.</font>den <font color="#990000">*</font> b<font color="#990000">.</font>den<font color="#990000">);</font>
    <font color="#FF0000">}</font>


    <i><font color="#9A1900">// return (this + b)</font></i>
    <b><font color="#0000FF">public</font></b> <font color="#008080">Rational</font> <b><font color="#000000">plus</font></b><font color="#990000">(</font><font color="#008080">Rational</font> b<font color="#990000">)</font> <font color="#FF0000">{</font>
        <font color="#009900">int</font> numerator   <font color="#990000">=</font> <font color="#990000">(</font><b><font color="#0000FF">this</font></b><font color="#990000">.</font>num <font color="#990000">*</font> b<font color="#990000">.</font>den<font color="#990000">)</font> <font color="#990000">+</font> <font color="#990000">(</font><b><font color="#0000FF">this</font></b><font color="#990000">.</font>den <font color="#990000">*</font> b<font color="#990000">.</font>num<font color="#990000">);</font>
        <font color="#009900">int</font> denominator <font color="#990000">=</font> <b><font color="#0000FF">this</font></b><font color="#990000">.</font>den <font color="#990000">*</font> b<font color="#990000">.</font>den<font color="#990000">;</font>
        <b><font color="#0000FF">return</font></b> <b><font color="#0000FF">new</font></b> <b><font color="#000000">Rational</font></b><font color="#990000">(</font>numerator<font color="#990000">,</font> denominator<font color="#990000">);</font>
    <font color="#FF0000">}</font>

    <i><font color="#9A1900">// return (1 / this)</font></i>
    <b><font color="#0000FF">public</font></b> <font color="#008080">Rational</font> <b><font color="#000000">reciprocal</font></b><font color="#990000">()</font> <font color="#FF0000">{</font>
        <b><font color="#0000FF">return</font></b> <b><font color="#0000FF">new</font></b> <b><font color="#000000">Rational</font></b><font color="#990000">(</font>den<font color="#990000">,</font> num<font color="#990000">);</font>
    <font color="#FF0000">}</font>

    <i><font color="#9A1900">// return (this / b)</font></i>
    <b><font color="#0000FF">public</font></b> <font color="#008080">Rational</font> <b><font color="#000000">divides</font></b><font color="#990000">(</font><font color="#008080">Rational</font> b<font color="#990000">)</font> <font color="#FF0000">{</font>
        <b><font color="#0000FF">return</font></b> <b><font color="#0000FF">this</font></b><font color="#990000">.</font><b><font color="#000000">times</font></b><font color="#990000">(</font>b<font color="#990000">.</font><b><font color="#000000">reciprocal</font></b><font color="#990000">());</font>
    <font color="#FF0000">}</font>

    <i><font color="#9A1900">/*************************************************************************</font></i>
<i><font color="#9A1900">     *  Helper functions</font></i>
<i><font color="#9A1900">     *************************************************************************/</font></i>

    <i><font color="#9A1900">// return gcd(m, n)</font></i>
    <b><font color="#0000FF">private</font></b> <font color="#009900">int</font> <b><font color="#000000">gcd</font></b><font color="#990000">(</font><font color="#009900">int</font> m<font color="#990000">,</font> <font color="#009900">int</font> n<font color="#990000">)</font> <font color="#FF0000">{</font>
        <b><font color="#0000FF">if</font></b> <font color="#990000">(</font><font color="#993399">0</font> <font color="#990000">==</font> n<font color="#990000">)</font>
            <b><font color="#0000FF">return</font></b> m<font color="#990000">;</font>
        <b><font color="#0000FF">else</font></b>
            <b><font color="#0000FF">return</font></b> <b><font color="#000000">gcd</font></b><font color="#990000">(</font>n<font color="#990000">,</font> m <font color="#990000">%</font> n<font color="#990000">);</font>
    <font color="#FF0000">}</font>

    <i><font color="#9A1900">/*************************************************************************</font></i>
<i><font color="#9A1900">     *  Test client</font></i>
<i><font color="#9A1900">     *************************************************************************/</font></i>

    <b><font color="#0000FF">public</font></b> <b><font color="#0000FF">static</font></b> <font color="#009900">void</font> <b><font color="#000000">main</font></b><font color="#990000">(</font>String<font color="#990000">[]</font> args<font color="#990000">)</font> <font color="#FF0000">{</font>
        <font color="#008080">Rational</font> x<font color="#990000">,</font> y<font color="#990000">,</font> z<font color="#990000">;</font>

        <i><font color="#9A1900">// 1/2 + 1/3 = 5/6</font></i>
        x <font color="#990000">=</font> <b><font color="#0000FF">new</font></b> <b><font color="#000000">Rational</font></b><font color="#990000">(</font><font color="#993399">1</font><font color="#990000">,</font> <font color="#993399">2</font><font color="#990000">);</font>
        y <font color="#990000">=</font> <b><font color="#0000FF">new</font></b> <b><font color="#000000">Rational</font></b><font color="#990000">(</font><font color="#993399">1</font><font color="#990000">,</font> <font color="#993399">3</font><font color="#990000">);</font>
        z <font color="#990000">=</font> x<font color="#990000">.</font><b><font color="#000000">plus</font></b><font color="#990000">(</font>y<font color="#990000">);</font>
        z<font color="#990000">.</font><b><font color="#000000">print</font></b><font color="#990000">();</font>

        <i><font color="#9A1900">// 8/9 + 1/9 = 1</font></i>
        x <font color="#990000">=</font> <b><font color="#0000FF">new</font></b> <b><font color="#000000">Rational</font></b><font color="#990000">(</font><font color="#993399">8</font><font color="#990000">,</font> <font color="#993399">9</font><font color="#990000">);</font>
        y <font color="#990000">=</font> <b><font color="#0000FF">new</font></b> <b><font color="#000000">Rational</font></b><font color="#990000">(</font><font color="#993399">1</font><font color="#990000">,</font> <font color="#993399">9</font><font color="#990000">);</font>
        z <font color="#990000">=</font> x<font color="#990000">.</font><b><font color="#000000">plus</font></b><font color="#990000">(</font>y<font color="#990000">);</font>
        z<font color="#990000">.</font><b><font color="#000000">print</font></b><font color="#990000">();</font>

        <i><font color="#9A1900">//  4/17 * 7/3 = 28/51</font></i>
        x <font color="#990000">=</font> <b><font color="#0000FF">new</font></b> <b><font color="#000000">Rational</font></b><font color="#990000">(</font><font color="#993399">4</font><font color="#990000">,</font> <font color="#993399">17</font><font color="#990000">);</font>
        y <font color="#990000">=</font> <b><font color="#0000FF">new</font></b> <b><font color="#000000">Rational</font></b><font color="#990000">(</font><font color="#993399">7</font><font color="#990000">,</font>  <font color="#993399">3</font><font color="#990000">);</font>
        z <font color="#990000">=</font> x<font color="#990000">.</font><b><font color="#000000">times</font></b><font color="#990000">(</font>y<font color="#990000">);</font>
        z<font color="#990000">.</font><b><font color="#000000">print</font></b><font color="#990000">();</font>

        <i><font color="#9A1900">// 0/6 = 0</font></i>
        x <font color="#990000">=</font> <b><font color="#0000FF">new</font></b> <b><font color="#000000">Rational</font></b><font color="#990000">(</font><font color="#993399">0</font><font color="#990000">,</font> <font color="#993399">6</font><font color="#990000">);</font>
        x<font color="#990000">.</font><b><font color="#000000">print</font></b><font color="#990000">();</font>
    <font color="#FF0000">}</font>

<font color="#FF0000">}</font></tt></pre>
</body>
</html>
